@model List<WebApplication1.Models.Message>

@{
    ViewData["Title"] = "Index";
}

<head>
    <meta charset="utf-8">
    <title>Chatton</title>

    <meta name="author" content="" lang="">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

       <style>
        header,section{text-align:center}#chatbox,#usermsg{border:1px solid #a6a6a6}body{margin:0 auto;max-width:1040px;min-width:300px}
        .wrapper{width:100%;margin:auto}header{float:left;width:100%;height:80px;padding:10px 0;background-color:#ffaa80}header p{float:left;font-size:24px}
        .login,.logout{float:right}.main{display:flex;flex-flow:row-reverse wrap;clear:both;min-height:400px;background-color:#e6e6e6}section{margin:1%;background-color:#f3f3f3}
        .login{width:auto;flex:1}.chat,.register{float:left;width:auto}.register{flex:1}.register form{text-align:right;padding-right:20%}.chat{margin:1% 20%}footer{clear:both;background-color:#ffaa80}
        #chatbox{text-align:left;margin:1% 1% 25px;padding:10px;background:#fff;height:300px;width:auto;overflow:auto}#usermsg{width:90%}#submit{width:60px}
    </style>
</head>
<body>
    <div class="wrapper">
        <header>
            <p class="welcome">Welcome to <span>Chatton</span><b></b></p>
            <form asp-action="Exit" name="Exit" action="../message/exit/">
                <input name="Exit" type="submit" id="submitmsg" value="Exit">
            </form>
            <!-- <a class="logout" href="User/Index.cshtml"> -->
            <!-- </a> -->
            <!-- if we decide to work with 1 controller, than this one will be a solution -->
            <!-- Html.ActionLink("Back to previous page", null, null, null, new { href = "user/index" }); -->
        </header>
        <div class="main">
        <section class="chat">
        <div id="chatbox" asp-action="Index" >
                    @foreach (var m in Model)
            {
                        <p>
                            @Html.DisplayFor(model => m.Username)
                            :
                            @Html.DisplayFor(model => m.Text)
                        </p>
                    }
                </div>

                <form method="post" action="../message/create/">
                    <p><input name="Text" asp-for="text" type="text" id="usermsg" placeholder="Write your message here..." size="70"></p>
                    <p><input type="submit" value="Send"></p>
                </form>
                <form name="Update" asp-action="Update" action="../message/update/">
                    <input name="Update" type="submit" id="submitmsg" value="Refresh">
                </form>
            </section>
            </div>
        <footer>
             Jurate & Naty 2016/2017
        </footer>
        </div>

</body>
